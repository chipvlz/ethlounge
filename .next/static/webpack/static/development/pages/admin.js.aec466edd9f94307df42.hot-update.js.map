{"version":3,"file":"static/webpack/static\\development\\pages\\admin.js.aec466edd9f94307df42.hot-update.js","sources":["webpack:///./pages/admin/index.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport {\r\n  Segment,\r\n  Form,\r\n  Button,\r\n  FormField,\r\n  Container,\r\n  Grid\r\n} from 'semantic-ui-react';\r\nimport '../../static/css/layout.css';\r\nimport Router from 'next/router';\r\nimport Head from 'next/head';\r\nimport axios from 'axios';\r\nimport CookieCall from '../../utils/CookieCall';\r\nimport _ from 'lodash';\r\n\r\nclass AdminLogin extends Component {\r\n  static async getInitialProps(props) {\r\n    const { req, res } = props;\r\n\r\n    let api_response = CookieCall(req, '/api/current_admin');\r\n\r\n    const admin = !_.isEmpty(api_response.data);\r\n\r\n    console.log(admin);\r\n\r\n    if (admin) {\r\n      if (res) {\r\n        res.writeHead(302, {\r\n          Location: '/admin/dashboard'\r\n        });\r\n        res.end();\r\n      } else {\r\n        Router.push('/admin/dashboard');\r\n      }\r\n    }\r\n\r\n    return {};\r\n  }\r\n  render() {\r\n    const style = { padding: '200px' };\r\n\r\n    return (\r\n      <Grid verticalAlign=\"middle\" centered className=\"wrapper\" style={style}>\r\n        <Head>\r\n          <link\r\n            rel=\"stylesheet\"\r\n            href=\"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.3.3/semantic.min.css\"\r\n          />\r\n        </Head>\r\n        <Segment className=\"dark-orange-bg\" padded=\"very\">\r\n          <Form action=\"/admin/login\" method=\"post\" className=\"login-form\">\r\n            <FormField>\r\n              <label>Username</label>\r\n              <input name=\"username\" />\r\n            </FormField>\r\n            <FormField>\r\n              <label>Password</label>\r\n              <input type=\"password\" name=\"password\" />\r\n            </FormField>\r\n            <Button className=\"black-bg font-white\" type=\"submit\">\r\n              Login\r\n            </Button>\r\n          </Form>\r\n        </Segment>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AdminLogin;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AAuBA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAFA;AAKA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAGA;AAAA;AAIA;AAAA;AAAA;AAEA;AAAA;AAAA;AAOA;;;;;;AAlDA;;;;;;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AAtBA;AACA;AAqDA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}