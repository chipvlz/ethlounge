{"version":3,"file":"static/webpack/static\\development\\pages\\matches\\match.js.91cbc23a9b76dbb5246a.hot-update.js","sources":["webpack:///./redux/reducers/matchReducer.js"],"sourcesContent":["import _ from 'lodash';\r\nimport EstimateBetValue from '../../components/helpers/EstimateBetValue';\r\n\r\nconst initialState = {items: {toBet: [], wallet: []}, account: '', signedIn: false, prices: {}, betValue: 0};\r\n\r\nconst matchReducer = (state = {items: {toBet: [], wallet: []}, account: '', signedIn: false, prices: {}, betValue: 0}, action) => {\r\n    let newState = _.cloneDeep(state);\r\n\r\n    switch(action.type) {               \r\n        case 'ADD_ITEM': {\r\n            console.log('ADD_ITEM');\r\n            if(newState.items.wallet.some((curr) => curr.token == action.item.token)) return;\r\n            if(newState.items.wallet.some((curr) => curr.token == action.item.token)) return;\r\n            \r\n            newState.items.wallet.push(action.item);\r\n            break;\r\n        }  \r\n\r\n        case 'CHANGE_POS': {\r\n            \r\n            if (action.item.position === 'token-box') {\r\n                action.item.position = action.pos;\r\n                newState.items.toBet.push(action.item);\r\n                newState.items.wallet = newState.items.wallet.filter((curr) => curr.token != action.item.token);\r\n            } else {\r\n                action.item.position = 'token-box';\r\n                action.item.amount = action.item.initialAmount;\r\n                newState.items.wallet.push(action.item);\r\n                newState.items.toBet = newState.items.toBet.filter((curr) => curr.token != action.item.token);           \r\n            }\r\n\r\n            // After every item's move estimate bet value without dispatching\r\n            newState.betValue = EstimateBetValue(newState.items.toBet, newState.prices, false);\r\n\r\n            break;\r\n        }\r\n\r\n        case 'LOG_OUT': {\r\n            newState = {items: {toBet: [], wallet: []}, account: '', signedIn: false, betValue: 0, prices: newState.prices};\r\n            console.log('Logged out! State is now: ', newState);\r\n            break;\r\n        }  \r\n\r\n        case 'LOG_IN': {\r\n            console.log('Loggin in...');\r\n            newState.account = action.account;\r\n            newState.signedIn = true;\r\n            console.log('Logging in! State is now: ', newState);\r\n            break;\r\n        }\r\n\r\n        case 'UPDATE_PRICES': {\r\n            newState.prices = action.prices;\r\n            break;\r\n        }\r\n\r\n        case 'UPDATE_ESTIMATE_BET': {\r\n            newState.betValue = action.sum;\r\n            break;\r\n        }\r\n\r\n\r\n    }\r\n    \r\n    return newState;\r\n}\r\n\r\nexport default matchReducer;"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAnDA;AACA;AAuDA;AACA;AACA;AACA;;;;A","sourceRoot":""}